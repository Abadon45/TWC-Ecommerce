{% extends "base-shop.html" %}
{% load static %}

{% block title %} {{ title }} {% endblock %}

{% block content %}
        
        <!-- shop checkout -->
        <div class="shop-checkout2 py-100">
            <div class="container">
                <div class="shop-checkout-wrap">
                    <div class="row">
                        <div class="col-lg-8">
                            <div class="shop-checkout-step">
                                <nav class="nav checkout-step-list nav-pills nav-justified mb-3" id="shopCheckout" role="tablist">
                                    <a href="#" class="nav-link active done" id="step1-tab" data-bs-toggle="pill" data-bs-target="#step1" type="button" role="tab" aria-controls="step1" aria-selected="true">
                                        <span class="step-count">1</span>
                                        <i class="far fa-user-circle"></i>Shipping Address
                                    </a>
                                    <a href="#" class="nav-link" id="step2-tab" data-bs-toggle="pill" data-bs-target="#step2" type="button" role="tab" aria-controls="step2" aria-selected="false">
                                        <span class="step-count">2</span>
                                        <i class="far fa-box-taped"></i>Payment
                                    </a>
                                </nav>
                                <div class="tab-content" id="pills-tabContent">
                                    <div class="tab-pane fade show active" id="step1" role="tabpanel" aria-labelledby="step1-tab" tabindex="0">
                                        <div class="shop-checkout-form">
                                            <form id="addShipping" action="{% url 'cart:checkout' %}" method="POST">
                                                {% csrf_token %}
                                                <div class="row">
                                                    <div class="col-lg-6">
                                                        <div class="form-group">
                                                            <label>First Name</label>
                                                            <input type="text" class="form-control" placeholder="First Name" name="first_name" required>
                                                            {% if form.errors.first_name %}
                                                                <div class="text-danger">{{ form.errors.first_name }}</div>
                                                            {% endif %}
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <div class="form-group">
                                                            <label>Last Name</label>
                                                            <input type="text" class="form-control" placeholder="Last Name" name="last_name" required>
                                                            {% if form.errors.last_name %}
                                                                <div class="text-danger">{{ form.errors.last_name }}</div>
                                                            {% endif %}
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <div class="form-group">
                                                            <label>Email</label>
                                                            <input type="email" class="form-control" placeholder="Email Address" name="email" required>
                                                            {% if form.errors.email %}
                                                                <div class="text-danger">{{ form.errors.email }}</div>
                                                            {% endif %}
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <div class="form-group">
                                                            <label>Phone</label>
                                                            <input type="text" class="form-control" placeholder="Phone Number" name="phone" required>
                                                            {% if form.errors.phone %}
                                                                <div class="text-danger">{{ form.errors.phone }}</div>
                                                            {% endif %}
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <div class="form-group">
                                                            <label>Address Line 1</label>
                                                            <input type="text" class="form-control" placeholder="Address Line 1" name="line1" required>
                                                            {% if form.errors.line1 %}
                                                                <div class="text-danger">{{ form.errors.line1 }}</div>
                                                            {% endif %}
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <div class="form-group">
                                                            <label>Address Line 2</label>
                                                            <input type="text" class="form-control" placeholder="Address Line 2" name="line2">
                                                            {% if form.errors.line2 %}
                                                                <div class="text-danger">{{ form.errors.line2 }}</div>
                                                            {% endif %}
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <div class="form-group">
                                                            <label>City</label>
                                                            <input type="text" class="form-control" placeholder="City" name="city" required>
                                                            {% if form.errors.city %}
                                                                <div class="text-danger">{{ form.errors.city }}</div>
                                                            {% endif %}
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <div class="form-group">
                                                            <label>Post Code</label>
                                                            <input type="text" class="form-control" placeholder="Post Code" name="postcode" required>
                                                            {% if form.errors.postcode %}
                                                                <div class="text-danger">{{ form.errors.postcode }}</div>
                                                            {% endif %}
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <div class="form-group">
                                                            <label>Your Message For Order</label>
                                                            <textarea cols="30" rows="4" class="form-control" placeholder="Your Message" name="message"></textarea>
                                                            {% if form.errors.message %}
                                                                <div class="text-danger">{{ form.errors.message }}</div>
                                                            {% endif %}
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <a href="{% url 'cart:cart' %}" type="button" class="theme-btn theme-btn2"><span class="fas fa-arrow-left"></span>Back To Cart</a>
                                                        <input type="hidden" name="submit_type" value="shipping">
                                                        <button type="submit" class="theme-btn">Next Step<i class="fas fa-arrow-right"></i></button>
                                                    </div>
                                                </div>
                                            </form>
                                        </div> 
                                    </div>
                                    <div class="tab-pane fade" id="step2" role="tabpanel" aria-labelledby="step2-tab" tabindex="0">
                                        <div class="shop-checkout-payment">
                                            <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
                                                <li class="nav-item" role="presentation">
                                                    <a class="nav-link active" id="pills-tab-1" data-bs-toggle="pill"
                                                        data-bs-target="#pills-1" type="button" role="tab" aria-controls="pills-1"
                                                        aria-selected="true">
                                                        <div class="checkout-payment-img cod">
                                                            <img src="{% static 'img/payment/cod-3.svg' %}" alt="">
                                                        </div>
                                                        <span>Cash On Delivery</span>
                                                    </a>
                                                </li>
                                            </ul>
                                            <div class="tab-content" id="pills-tabContent">
                                                <div class="tab-pane fade show active" id="pills-1" role="tabpanel"
                                                    aria-labelledby="pills-tab-1" tabindex="0">
                                                    <div class="shop-checkout-form cod">
                                                        <form action="#">
                                                            <div class="row">
                                                                <div class="col-lg-12">
                                                                    <div class="form-check mb-20">
                                                                        <input class="form-check-input" type="checkbox" value="" id="cod">
                                                                        <label class="form-check-label" for="cod">
                                                                            Cash On Delivery
                                                                            <span>Please read our <a href="#">Terms And Conditions</a> for cash on delivery.</span>
                                                                        </label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="shop-cart-summary mt-lg-0">
                                <h5>Cart Summary</h5>
                                <ul>
                                    <li><strong>Order ID:</strong> <span>{{ order.order_id }}</span></li>
                                    <li><strong>Sub Total:</strong> <span>{{ order.get_cart_items }}</span></li>
                                    <li><strong>Discount:</strong> <span>0.00Php</span></li>
                                    <li><strong>Shipping:</strong> 
                                        <span>
                                            {% if shipping == 0 %}
                                                Free
                                            {% else %}
                                                ₱{{ shipping }}
                                            {% endif %}
                                        </span>
                                    </li>
                                    <li class="shop-cart-total"><strong>Total:</strong> <span>{{ total }}</span></li>
                                </ul>
                                <div class="text-end mt-40">
                                    <form class="form" method="POST" action="">
                                    {% csrf_token %}
                                    <!-- <button class="theme-btn" type="submit">Checkout Now</button> -->
                                    <a href="{% url 'cart:checkout_complete' %}" class="theme-btn">Checkout Now<i
                                            class="fas fa-arrow-right-long"></i></a>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- shop checkout end -->


{% endblock %}